<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="../assets/js/main.js?nocache=index20240809"></script>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <meta content="utf-8" http-equiv="encoding" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../img/favicon-code.ico" rel="icon" type="image/x-icon" />

    <!-- Change for SEO ! -->
    <title>How to upload changes to Neocities automatically | petrapixel</title>
    <meta name="description" content="Automatically upload your changed files to Neocities via a GitHub Deployment Action." />
    <!-- ----------------- -->

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J64TL8KVTJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-J64TL8KVTJ");
    </script>
  </head>
  <body class="load-layout">
    <noscript id="no-js-warning">Please enable JavaScript to view this website!</noscript>
    <a href="#main" id="skip-to-content-link">Skip to content</a>
    <a href="/sitemap.html" id="skip-to-content-link2">Go to Sitemap</a>
    <div id="content">
      <main id="main" class="not-lowercase">
        <section>
          <!-- ------------------------------------------------------------------------------------------------------------ -->
          <!-- ------------------------------------------------------------------------------------------------------------ -->
          <!-- ------------------------------------------------------------------------------------------------------------ -->
          <!-- Change date and tags ! -->
          <article class="blog-article" data-date="2024-20-02" data-tags="neocities, coding">
            <h1 class="blog-article__title">How to upload changes to Neocities automatically</h1>
            <div class="blog-article__description">Automatically upload your changed files to Neocities via a GitHub Deployment Action.</div>
            <!-- <div class="blog-article__image"><img src="../img/linkback.gif" alt="alt text!!" /></div> -->
            <div class="blog-article__content">
              <!-- ------------------------------------------------------------------------------------------------------------ -->
              <!-- ------------------------------------------------------------------------------------------------------------ -->
              <!-- ------------------------------------------------------------------------------------------------------------ -->
              <!-- <h2>Heading</h2> -->
              <p>
                Using <a href="https://github.com/marketplace/actions/deploy-to-neocities" target="_blank">an amazing GitHub Action</a> you can automatically deploy your changes to Neocities without
                manually uploading any files. <img aria-hidden="true" src="../img/inline/excited.gif" /> It only updates the files that were actually changed, don't worry about your feed. Prerequisite
                for this is that you have a GitHub repository for your project!
              </p>
              <h2>How to do it:</h2>
              <ol class="list-with-more-spacing">
                <li>Make sure all the files in your project that should be uploaded to Neocities are in a folder called <i>public</i>.</li>
                <li>
                  Create the following file in the root of your project (<i>NOT</i> in the <i>public</i> folder):<br /><code>.github/workflows/neocities.yml</code> <br />Make sure you spell it
                  correctly! Don't forget the "." at the start of the first folder name.
                </li>
                <li>Insert the code shown <a href="https://github.com/marketplace/actions/deploy-to-neocities#usage" target="_blank">here</a> into your file.</li>
                <li>If your branch is called 'main' instead of 'master' make sure to change that on line 7.</li>
                <li>Comment out (= add a # at the start of the lines) or delete lines 21 to 28. You don't need them.</li>
                <li>
                  If you want to you can set <i>cleanup</i> to <i>true</i>. This means that files that are still in your Neocities but not in your project anymore are deleted from Neocities. (I
                  recommend this, otherwise you will eventually run out of space in your Neocities account.)
                </li>
                <li>Get your API Key for your Neocities account. (It can be found in your Site Settings on Neocities under "<span style="text-transform: none">API</span>").</li>
                <li>
                  Open your repository on GitHub, go to its "Settings", then "Secrets and Variables" -> "Actions". Add a secret with the name
                  <span style="text-transform: none">NEOCITIES_API_TOKEN</span> and set your Neocities API Key as the value.
                </li>
              </ol>
              <p>Done! Now whenever you push to your master/main branch, the changed/added files will automatically be uploaded to your Neocities site.</p>
            </div>
          </article>
        </section>
        <!-- ------------------------------------------------------------------------------------------------------------ -->
        <!-- ------------------------------------------------------------------------------------------------------------ -->
        <!-- ------------------------------------------------------------------------------------------------------------ -->

        <!-- <div class="blog-read-more__title">Related Pages:</div>
        <section>
          <div class="blog-read-more">
            <div class="blog-read-more__articles" id="blog" data-filter="neocities" data-limit="2"></div>
          </div>
        </section> -->
      </main>
    </div>
  </body>
</html>
