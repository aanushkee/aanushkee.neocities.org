<!DOCTYPE html>
<html>
  <head>
    <title>neocities</title>
    <script src="../main.js"></script>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <meta content="utf-8" http-equiv="encoding" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="favicon.ico" rel="icon" type="image/x-icon" />
    <!-- code highlight -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
    <style>
      pre code.hljs {
        background: none;
        padding: 0;
        margin: 0;
        font-size: 0.9em;
      }
      .hljs-section,
      .hljs-title {
        color: #94113c;
      }
      .hljs-attribute,
      .hljs-doctag,
      .hljs-keyword,
      .hljs-meta .hljs-keyword,
      .hljs-name,
      .hljs-selector-tag {
        color: #2b2b2b;
      }
    </style>
  </head>
  <body>
    <noscript id="no-js-warning">Please enable JavaScript to view this website!</noscript>
    <a href="#main" id="skip-to-content-link">Skip to content</a>
    <a href="/sitemap.html" id="skip-to-content-link2">Go to Sitemap</a>
    <div id="content">
      <main id="main">
        <section>
          <h1>Helpful Neocities Stuff</h1>
          <div id="toc"></div>
          <hr />
          <h2>External Widgets for Free Plans</h2>
          <p>
            Unfortunately, if you have a free website on neocities you are not allowed to use external scripts, such as guestbooks, shoutboxes, status/mood widgets, and even hit counters.
            <img src="../img/inline/sad.gif" />
          </p>
          <p>
            The good news is that I found a way around that: you can use iframes. Specifially, you use the script you want to use on a different website not hosted on neocities, in the center of an
            otherwise blank page with <i>background: transparent;</i> and then use this URL in an iframe on your neocities page. This is what I do.
            <a href="https://petracoding.github.io/neocities/stats.html" target="_blank">Here</a> you can see an example of what a page with a widget looks like (you can see it in use in my sidebar on
            the left!).
          </p>
          <p>
            For guestbooks I recommend using <a href="https://www.123guestbook.com/" target="_blank">123guestbook</a> (which is what I use for <a href="/guestbook.html">my guestbook</a> iframe)
            because it is very customizable and looks good in an iframe. For a chatbox you can use <a href="https://www.cbox.ws/" target="_blank">cbox</a>, because it works via an iframe.
          </p>
          <hr />
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <h2>Automatic Deployment</h2>
          <p>
            Using <a href="https://github.com/marketplace/actions/deploy-to-neocities" target="_blank">this amazing GitHub Action</a> you can automatically deploy your changes to Neocities without
            manually uploading any files. <img src="../img/inline/excited.gif" /> It only updates the files that were actually changed, don't worry about your feed. Prerequisite for this is that you
            have a GitHub repository for your project.
          </p>
          <strong>How to do it:</strong>
          <ul>
            <li>Make sure all the files in your project that should be uploaded to Neocities are in a folder called <i>public</i>.</li>
            <li>
              Create the following file in the root of your project (<i>NOT</i> in the <i>public</i> folder): <code>.github/workflows/neocities.yml</code> Make sure you spell it correctly! Don't
              forget the "." at the start of the first folder name.
            </li>
            <li>Insert the code shown <a href="https://github.com/marketplace/actions/deploy-to-neocities#usage" target="_blank">here</a> into your file.</li>
            <li>If your branch is called 'main' instead of 'master' make sure to change that on line 7.</li>
            <li>Comment out (= add a # at the start of the line) lines 21 to 28. You don't need them.</li>
            <li>If you want to you can set <i>cleanup</i> to <i>true</i>. This means that files that are still uploaded to Neocities but not in your project anymore are deleted from Neocities.</li>
            <li>
              Open your repository on GitHub, go to its "Settings", then "Secrets and Variables" -> "Actions". Add a secret with the name
              <span style="text-transform: none">NEOCITIES_API_TOKEN</span> . The value is your API Key from Neocities (Can be found in your Site Settings on Neocities under "<span
                style="text-transform: none"
                >API</span
              >").
            </li>
          </ul>
          <p>Done! Now whenever you push to your master/main branch, the changed/added files will automatically be uploaded to your Neocities site.</p>
          <hr />
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <h2>HTML/CSS Snippets</h2>
          <br />
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <p><b>Adding a color filter over an image:</b> (<a href="/about/about-me.html#face">example</a>)</p>
          <details>
            <summary>Show/Hide</summary>
            <p>HTML:</p>
            <pre><code>&lt;div class=&quot;pink-image&quot;&gt;&lt;img src=&quot;...&quot; /&gt;&lt;/div&gt;</code></pre>
            <p>CSS</p>
            <pre><code>.pink-image {
  position: relative;

  img {
    filter: brightness(1.1) contrast(1.3); // adjust as needed
  }

  &::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    top: 0;
    background: pink; // adjust as needed
    opacity: 0.25; // adjust as needed
    pointer-events: none;
  }
}</code></pre>
          </details>
          <hr />
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <h2>JavaScript Snippets</h2>
          <p>
            These are some code snippets I wrote for my own site. Please only use these snippets if you have basic JavaScript knowledge, because they require very basic customization!
            <img src="../img/inline/yes.gif" />
          </p>
          <br />
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <p><b>Add the same header and footer on every page:</b></p>
          <p>This is helpful so you don't have to update the code for your header/footer on every single page when you make a change.</p>
          <details>
            <summary>Show/Hide</summary>
            <pre>
<code>document.addEventListener("DOMContentLoaded", function () {
  const beforeMain = `
  	&lt;header&gt;...&lt;/header&gt;
  	  `;

  const afterMain = `
   &lt;footer&gt;...&lt;/footer&gt;
  	  `;

  const mainEl = document.querySelector("main");
  if (!mainEl) return;
  mainEl.insertAdjacentHTML("beforebegin", beforeMain);
  mainEl.insertAdjacentHTML("afterend", afterMain);
});</code></pre>
            <p>HTML before:</p>
            <pre><code>&lt;main&gt;...&lt;/main&gt;</code></pre>
            <p>HTML after:</p>
            <pre>
<code>&lt;header&gt;...&lt;/header&gt;
&lt;main&gt;...&lt;/main&gt;
&lt;footer&gt;...&lt;/footer&gt;</code></pre>
            <hr />
            <!-- ----------------------------------------------------------------------------------------------------- -->
            <p><b>Add text at the end of every site title (displayed on the tab) automatically:</b></p>
            <details>
              <summary>Show/Hide</summary>
            </details>
            <pre>
<code>const tabTitle = document.title; 
if (tabTitle !== "YOUR HOME TITLE") { 
	document.title = tabTitle + " | some text"; 
}</code>
</pre>
            <p>The <i>if</i> makes sure that the title of your homepage doesn't end up like "site name | site name"</p>
            <hr />
          </details>
          <br />
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <p><b>Give the class "active" to any active navigation links:</b></p>
          <details>
            <summary>Show/Hide</summary>
            <pre>
<code>const linkElements = document.querySelectorAll("nav a");
[...linkElements].forEach((el) => {
  const href = el.getAttribute("href").replace(".html", "").replace("/public", "");

  if (href == "/" || href == "/index.html") {
    if (window.location.href == "https://YOURURL.neocities.org/") {
      el.classList.add("active");
    }
  } else {
    if (window.location.href.includes(href)) {
      el.classList.add("active");
    }
  }
});</code></pre>
            <p>(You will need to change the selector for your navigation links (default: "nav a") and the URL.)</p>
            <hr />
          </details>
          <br />
          <!-- ----------------------------------------------------------------------------------------------------- -->
          <p><b>Generate a table of contents automatically: </b>(<a href="/resources/bookmarks.html">example</a>)</p>
          <details>
            <summary>Show/Hide</summary>
            <p>In your HTML, add this line whereever you want it to be:</p>
            <pre><code>&lt;div id="toc"&gt;&lt;/div&gt;</code></pre>
            <p>The JavaScript:</p>
            <pre>
<code>const container = document.querySelector("#toc");
if (!container) return;
const allHeadings = document.querySelectorAll("h2");
if (allHeadings.length &lt; 2) return;
let output = "&lt;b&gt;Table of Contents:&lt;/b&gt;&lt;ol&gt;";
[...allHeadings].forEach((headingEl) =&gt; {
	const title = headingEl.innerHTML;
	const link =
	      headingEl.getAttribute("id") ||
	      encodeURI(
	        title
	          .replaceAll(" ", "-")
	          .replaceAll("#", "")
	          .replaceAll(/<[^>]*>?/gm, "")
	      ).toLowerCase();
	headingEl.setAttribute("id", link);
	output += `&lt;li&gt;&lt;a href="#${link}"&gt;${title}&lt;/a&gt;&lt;/li&gt;`;
});
container.innerHTML = output + "&lt;/ol&gt;";</code></pre>
            <p>Change the selector (default: "h2") to any selector that targets the headings you want to turn into the table of contents.</p>
            <p>You can override the automatically generated ID of a heading by simply setting a custom one in the HTML.</p>

            <hr />
          </details>
          <!-- ----------------------------------------------------------------------------------------------------- -->
        </section>
      </main>
    </div>
  </body>
</html>
